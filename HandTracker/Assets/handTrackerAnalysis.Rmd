---
title: "HandTracker"
output: html_document
---

```{r}
dataIndex = 9
dataPath = paste("handTracker", dataIndex,".txt", sep = "")

if(file.exists(dataPath))
{
  df = read.table(dataPath, header = TRUE)
}
```

```{r}
install.packages("plot3D")
library("plot3D")
```

```{r}
x <- df$x
y <- df$y
z <- df$z
# Compute the linear regression (z = ax + by + d)
fit <- lm(z ~ x + y)
# predict values on regular xy grid
grid.lines = 26
x.pred <- seq(min(x), max(x), length.out = grid.lines)
y.pred <- seq(min(y), max(y), length.out = grid.lines)
xy <- expand.grid( x = x.pred, y = y.pred)
z.pred <- matrix(predict(fit, newdata = xy), 
                 nrow = grid.lines, ncol = grid.lines)
# fitted points for droplines to surface
fitpoints <- predict(fit)
# scatter plot with regression plane
scatter3D(x, y, z, pch = 18, cex = 2, 
    theta = 90, phi = 20, ticktype = "detailed",
    xlab = "x", ylab = "y", zlab = "z",  
    surf = list(x = x.pred, y = y.pred, z = z.pred,  
    facets = NA, fit = fitpoints))
```

